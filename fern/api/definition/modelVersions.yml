# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

service:
  auth: true
  url: Default
  base-path: /v1/model-versions
  endpoints:
    retrieve:
      path: /{modelVersionId}
      path-parameters:
        modelVersionId:
          docs: A UUID string identifying this model version.
          type: uuid
      method: GET
      docs: Used to retrieve a model version given its ID.
      response: ModelVersionRead

types:
  ModelVersionRead:
    properties:
      id:
        docs: Vellum-generated ID that uniquely identifies this model version.
        type: string
      created:
        docs: Timestamp of when this model version was created.
        type: string
      label:
        docs: Human-friendly name for this model version.
        type: string
      model_type:
        docs: The type of task this model is used for.
        type: ModelTypeEnum
      provider:
        docs: Which LLM provider this model version is associated with.
        type: ProviderEnum
      external_id:
        docs: >-
          The unique id of this model version as it exists in the above
          provider's system.
        type: string
      build_config:
        docs: Configuration used to build this model version.
        type: ModelVersionBuildConfig
      exec_config:
        docs: Configuration used to execute this model version.
        type: ModelVersionExecConfigRead

  ModelTypeEnum:
    enum:
      - GENERATE
      - CLASSIFY

  ProviderEnum:
    enum:
      - OPENAI
      - COHERE
      - ANTHROPIC

  ModelVersionBuildConfig:
    properties:
      base_model:
        docs: >-
          The name of the base model used to create this model version, as
          identified by the LLM provider.
        type: string
      sandbox_snapshot:
        docs: >-
          Information about the sandbox snapshot that was used to create this
          model version, if applicable.
        type: optional<ModelVersionSandboxSnapshot>

  ModelVersionSandboxSnapshot:
    properties:
      id:
        docs: The ID of the sandbox snapshot.
        type: string
      prompt_index:
        docs: The index of the prompt in the sandbox snapshot.
        type: integer

  ModelVersionExecConfigRead:
    properties:
      prompt_template:
        docs: The template used to generate prompts for this model version.
        type: string
      parameters:
        docs: >-
          The generation parameters that are passed to the LLM provider at
          runtime.
        type: ModelVersionExecConfigParameters
      input_variables:
        docs: Names of the template variables specified in the prompt template.
        type: list<string>

  ModelVersionExecConfigParameters:
    properties:
      temperature: double
      max_tokens: integer
      stop: optional<list<string>>
      top_p: double
      top_k: optional<double>
      frequency_penalty: double
      presence_penalty: double
      logit_bias: optional<map<string, double>>
